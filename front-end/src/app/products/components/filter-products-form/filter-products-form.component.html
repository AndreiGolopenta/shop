<form [formGroup]="form" novalidate (ngSubmit)="onSubmit()" *ngIf="render">
  <mat-accordion>
    <ng-container *ngFor="let filter of filters">
      <app-filter-products-expansion-panel [parent]="form">
        <h4>{{ filter | titlecase }}</h4>
        <section class="content" [formArrayName]="filter">
          <ng-container
            *ngFor="let prop of filterData[filter]; index as i"
            [formGroupName]="i"
          >
            <mat-checkbox color="primary" formControlName="checked">
              {{ prop.name }}
            </mat-checkbox>
          </ng-container>
        </section>
      </app-filter-products-expansion-panel>
    </ng-container>
  </mat-accordion>
</form>
<div class="reset-filters-btn">
  <button mat-stroked-button color="primary" (click)="handleRemoveFilters()">
    Remove all filters
  </button>
</div>
